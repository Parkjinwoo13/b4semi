searchDPCount=select count(*) from dplist left join (select displayListSeq, min(subCategoryCode) as "SUBCATEGORYCODE", min(subCategoryName) as "SUBCATEGORYNAME", min(majorCategoryCode) as "MAJORCATEGORYCODE", min(majorCategoryName) as "MAJORCATEGORYNAME" from DPOption join product using(productCode) join subCategory using(subCategoryCode) join majorCategory using(majorCategoryCode) group by displayListSeq) using(displayListSeq) where (displayListTitle like ? OR SUBCATEGORYNAME like ? OR MAJORCATEGORYNAME like ?) AND SUBCATEGORYCODE like ? AND MAJORCATEGORYCODE like ?
searchDPList1=SELECT * FROM (SELECT ROWNUM AS "RNUM", A.*,(SELECT count(*) FROM DPOPTION WHERE A.displayListSeq=displayListSeq) as "OPTIONCOUNT" FROM (select * from dplist left join (select displayListSeq, min(displayOptionPrice) as "MINPRICE", min(discountRate) as "DISCOUNTRATE",  min(discountName) as "DISCOUNTNAME", min(subCategoryCode) as "SUBCATEGORYCODE", min(subCategoryName) as "SUBCATEGORYNAME", min(majorCategoryCode) as "MAJORCATEGORYCODE", min(majorCategoryName) as "MAJORCATEGORYNAME" , trunc(avg(reviewScore),2) as "REVIEWSCORE", count(reviewScore) as "POPULARITY", max(renameFile) as "IMG", min(productUnit) as "PRODUCTUNIT", min(productCode) as "PRODUCTCODE" from DPOption left join discount using(discountCode) join product using(productCode) join subCategory using(subCategoryCode) join majorCategory using(majorCategoryCode) left join review using(productCode, displayListSeq) left join (SELECT * FROM IMAGES WHERE BOARDCODE = 'BL') on(displayListSeq = boardNo) where optionAvailable != 'N' group by displayListSeq) using(displayListSeq) where DPLISTAVAILABLE != 'N' and (displayListTitle like ? OR SUBCATEGORYNAME like ? OR MAJORCATEGORYNAME like ?) AND SUBCATEGORYCODE like ? AND MAJORCATEGORYCODE like ? order by dplistavailable DESC,
searchDPList2=) A WHERE ROWNUM <= ? ) WHERE RNUM >= ?
getSubText=SELECT * FROM subCategory WHERE subCategoryCode = ?
getMajorText=SELECT * FROM majorCategory WHERE majorCategoryCode = ?
getSubTextAll=select * from subcategory where majorcategorycode = ?
getMajorTextAll=select * from majorCategory
searchDPOption=select * from dpoption join product using(productCode) join supplier using(supplierCode) left join discount using(discountCode) where displayListSeq = ? AND OptionAvailable != 'N'
getDisplayDetail=SELECT A.*,(SELECT count(*) FROM DPOPTION WHERE A.displayListSeq=displayListSeq) as "OPTIONCOUNT" FROM (select * from dplist left join (select displayListSeq, min(displayOptionPrice) as "MINPRICE", min(discountRate) as "DISCOUNTRATE",  min(discountName) as "DISCOUNTNAME", min(subCategoryCode) as "SUBCATEGORYCODE", min(subCategoryName) as "SUBCATEGORYNAME", min(majorCategoryCode) as "MAJORCATEGORYCODE", min(majorCategoryName) as "MAJORCATEGORYNAME", trunc(avg(reviewScore),2) as "REVIEWSCORE", count(reviewScore) as "POPULARITY", max(renameFile) as "IMG", min(productUnit) as "PRODUCTUNIT", min(productCode) as "PRODUCTCODE", min(originCountry) as "ORIGINCOUNTRY", min(supplierName) as "SUPPLIERNAME", min(supplierPhone) as "SUPPLIERPHONE", min(supplierAddress) as "SUPPLIERADDRESS", min(supplierEmail) as "SUPPLIEREMAIL" from DPOption left join discount using(discountCode) join product using(productCode) join subCategory using(subCategoryCode) join majorCategory using(majorCategoryCode) join supplier using(supplierCode) left join review using(productCode, displayListSeq) left join (SELECT * FROM IMAGES WHERE BOARDCODE = 'BL') on(displayListSeq = boardNo) where optionAvailable != 'N' group by displayListSeq ) using(displayListSeq) where DPLISTAVAILABLE != 'N' AND displayListSeq = ?) A